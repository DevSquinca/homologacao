(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d03d6"],{"66aa":function(e,t,a){"use strict";a.r(t);var c=a("7a23");const s=Object(c["createElementVNode"])("head",null,[Object(c["createElementVNode"])("link",{rel:"stylesheet",href:"https://beehavemarketing.com.br/oda/estilo.css"})],-1),o={class:"container rf_container"},r={class:"navbar navbar-expand-lg rf_bg_form rf_texto rf_container"},l={class:"container-fluid"},n=Object(c["createElementVNode"])("div",null,[Object(c["createElementVNode"])("i",{class:"bi bi-sliders fs-5"}," Administração - Perfil ")],-1),d={class:"nav justify-content-end"},i={class:"nav-item"},m=Object(c["createElementVNode"])("li",{class:"nav-item"},[Object(c["createElementVNode"])("a",{class:"nav-link rf_texto disabled"},"Perfil")],-1),b={class:"bg-dark text-secondary text-center"},u={class:"py-4"},j={class:"row"},O={class:"col-lg-4"},p={class:"rf_card_profile"},V={class:"card-body text-center"},f=Object(c["createElementVNode"])("img",{src:"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-chat/ava3.webp",alt:"avatar",class:"rounded-circle img-fluid",style:{width:"150px"}},null,-1),h={class:"my-3"},v={class:"my-3"},N={class:"col-lg-8"},E={class:"rf_card_profile"},_={class:"card-body g-2 p-4"},g={class:"row mt-4"},w={class:"col-6 mt-5"},y={class:"form-floating"},k=Object(c["createElementVNode"])("label",{class:"rf_texto"},"Senha",-1),x={class:"col-6 mt-5"},P={class:"form-floating"},C=Object(c["createElementVNode"])("label",{class:"rf_texto"},"Confirmar Senha",-1),S={class:"row mt-4"},D={class:"col"},T={class:"form-floating"},U={key:0};function A(e,t,a,A,B,M){const $=Object(c["resolveComponent"])("SidebarVue"),J=Object(c["resolveComponent"])("router-link"),z=Object(c["resolveComponent"])("Message"),R=Object(c["resolveComponent"])("RodapeVue");return Object(c["openBlock"])(),Object(c["createElementBlock"])(c["Fragment"],null,[s,Object(c["createElementVNode"])("div",o,[Object(c["createVNode"])($),Object(c["createElementVNode"])("nav",r,[Object(c["createElementVNode"])("div",l,[n,Object(c["createElementVNode"])("div",null,[Object(c["createElementVNode"])("ul",d,[Object(c["createElementVNode"])("li",i,[Object(c["createVNode"])(J,{class:"nav-link rf_texto active",to:"/admin"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("Dashboard /")]),_:1})]),m])])])]),Object(c["createElementVNode"])("section",b,[Object(c["createElementVNode"])("div",u,[Object(c["createElementVNode"])("div",j,[Object(c["createElementVNode"])("div",O,[Object(c["createElementVNode"])("div",p,[Object(c["createElementVNode"])("div",V,[f,Object(c["createElementVNode"])("h5",h,[Object(c["createElementVNode"])("strong",null,Object(c["toDisplayString"])(M.currentUser.username),1)]),Object(c["createElementVNode"])("h5",v,[Object(c["createElementVNode"])("strong",null,Object(c["toDisplayString"])(M.currentUser.email),1)])])])]),Object(c["createElementVNode"])("div",N,[Object(c["createElementVNode"])("div",E,[Object(c["createElementVNode"])("div",_,[Object(c["createElementVNode"])("div",g,[Object(c["createElementVNode"])("div",w,[Object(c["createElementVNode"])("div",y,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"password",class:"form-control rf_bg_form rf_texto","onUpdate:modelValue":t[0]||(t[0]=e=>B.edit_password=e)},null,512),[[c["vModelText"],B.edit_password]]),k])]),Object(c["createElementVNode"])("div",x,[Object(c["createElementVNode"])("div",P,[Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{type:"password",class:"form-control rf_bg_form rf_texto","onUpdate:modelValue":t[1]||(t[1]=e=>B.edit_confirmPassword=e)},null,512),[[c["vModelText"],B.edit_confirmPassword]]),C])])]),Object(c["createElementVNode"])("div",S,[Object(c["createElementVNode"])("div",D,[Object(c["createElementVNode"])("div",T,[Object(c["createElementVNode"])("button",{type:"button",onClick:t[2]||(t[2]=e=>M.update()),class:"btn btn-lg btn-secondary"}," Atualizar Senha ")])])])])])])])])]),B.abrir_modal?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",U,[Object(c["withDirectives"])(Object(c["createVNode"])(z,{msg:B.msg},null,8,["msg"]),[[c["vShow"],B.msg]])])):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])(R)])],64)}a("14d9");var B=a("7989"),M=a("bc3a"),$=a.n(M),J=a("de8f"),z=a("907b"),R={name:"Profile",components:{SidebarVue:B["a"],Message:J["a"],RodapeVue:z["a"]},data(){return{msg:null,abrir_modal:!1,edit_id:"",edit_password:"",edit_confirmPassword:""}},computed:{currentUser(){return this.$store.state.auth.user}},mounted(){this.currentUser||this.$router.push("/login")},methods:{async update(){if((this.edit_password||this.edit_confirmPassword)&&this.edit_password!==this.edit_confirmPassword)return this.abrir_modal=!0,this.msg="As senhas digitadas não são iguais!",void setTimeout(()=>this.abrir_modal=!1,4e3);const e=this.$store.state.auth.user.accessToken,t=this.$store.state.auth.user.id,a={"x-access-token":e},c={id:t,password:this.edit_password,id_userCad:t};console.log(c);const s=await $.a.patch("http://3.210.213.238:3001/api/profile/"+t,c,{headers:a}),o=JSON.stringify(s.status);200==o&&(this.edit_password="",this.edit_confirmPassword="",this.abrir_modal=!0,this.msg="Alteração realizada com sucesso!",setTimeout(()=>this.abrir_modal=!1,4e3),location.reload())}}},F=(a("d742"),a("6b0d")),q=a.n(F);const G=q()(R,[["render",A]]);t["default"]=G}}]);
//# sourceMappingURL=chunk-2d0d03d6.39641720.js.map